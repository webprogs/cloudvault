import{r as d,j as e,H as p,L as c,a as j}from"./app-SoRLWay0.js";import{A as u}from"./AppLayout-BnFOcWJR.js";import{B as r}from"./Button-CGE1DzVd.js";import{M as y}from"./Modal-t-7ADvTk.js";function v({users:s}){const[i,a]=d.useState(!1),[l,n]=d.useState(null),x=t=>{n(t),a(!0)},o=()=>{j.delete(`/admin/users/${l.id}`,{onSuccess:()=>{a(!1),n(null)}})},m=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return e.jsxs(u,{title:"Manage Users",children:[e.jsx(p,{title:"Manage Users"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"User Management"}),e.jsx("p",{className:"text-sm text-text-secondary",children:"Manage user accounts and permissions"})]}),e.jsx(c,{href:"/admin/users/create",children:e.jsxs(r,{children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add User"]})})]}),e.jsxs("div",{className:"bg-card border border-border rounded-xl overflow-hidden",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-border",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider hidden sm:table-cell",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider hidden md:table-cell",children:"Files"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider hidden lg:table-cell",children:"Joined"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-border",children:s.data.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-light rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-primary",children:t.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-text-primary",children:t.name}),e.jsxs("p",{className:"text-sm text-text-secondary",children:["@",t.username]})]})]})}),e.jsx("td",{className:"px-6 py-4 hidden sm:table-cell",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.role==="admin"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:t.role})}),e.jsxs("td",{className:"px-6 py-4 text-sm text-text-secondary hidden md:table-cell",children:[t.files_count," files"]}),e.jsx("td",{className:"px-6 py-4 text-sm text-text-secondary hidden lg:table-cell",children:m(t.created_at)}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>x(t),className:"text-error hover:bg-red-50",children:"Delete"})})]},t.id))})]}),s.data.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-text-secondary",children:"No users found"})})]}),s.last_page>1&&e.jsx("div",{className:"flex justify-center gap-2",children:s.links.map((t,h)=>e.jsx(c,{href:t.url||"#",className:`px-3 py-1 rounded ${t.active?"bg-primary text-white":t.url?"bg-gray-100 text-text-secondary hover:bg-gray-200":"bg-gray-50 text-gray-300 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:t.label}},h))})]}),e.jsx(y,{isOpen:i,onClose:()=>a(!1),title:"Delete User",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-text-secondary",children:["Are you sure you want to delete ",e.jsx("strong",{children:l?.name}),"? All their files will also be deleted. This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(r,{variant:"ghost",onClick:()=>a(!1),children:"Cancel"}),e.jsx(r,{variant:"danger",onClick:o,children:"Delete User"})]})]})})]})}export{v as default};
